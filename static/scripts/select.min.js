var icons={OPEN:"&#xE5C5;",CLOSE:"&#xE5C7;"},getValueAsString=function(e){var t=e.value;if(""===t)return t;for(var n in e.children)if(n.value===t)return n.innerText;return""},generateOption=function(e){var t=document.createElement("li");return t.classList.add("select-option"),t.setAttribute("data-value",e.value),t.innerText=e.innerText,e.hasAttribute("selected")&&t.set("data-selected","true"),t},generateWrapper=function(e){var t=document.createElement("div");t.classList.add("select-wrapper");var n=document.createElement("div");n.classList.add("select-button"),n.innerHTML="<span>"+getValueAsString(e)+'</span><i class="material-icons">&#xE5C5;</i>',t.appendChild(n);var a=document.createElement("ul");return a.classList.add("select-options"),e.querySelectorAll("option").forEach(function(e){a.append(generateOption(e))}),t.appendChild(a),t},initSelect=function(e){var t=e.parentNode,n=generateWrapper(e);t.replaceChild(n,e),n.appendChild(e)},toggleWrapper=function(e){e.classList.contains("open")?(e.classList.remove("open"),e.querySelector(".select-button i.material-icons").innerHTML=icons.OPEN):(e.classList.add("open"),e.querySelector(".select-button i.material-icons").innerHTML=icons.CLOSE)},closeAllSelects=function(){document.querySelectorAll(".select-wrapper.open").forEach(function(e){toggleWrapper(e)})},selectButtonClickHandler=function(e){toggleWrapper(e.parentNode)},selectOptionClickHandler=function(e){var t=e.parentNode.previousElementSibling,n=t.parentNode;t.querySelector("span").innerText=e.innerText,closeAllSelects();var a=n.querySelector("select");a.value=e.getAttribute("data-value");var r=new CustomEvent("select:change",{bubbles:!0,detail:{select:a,value:a.value}});document.dispatchEvent(r)},delegatedClickHandler=function(e){for(var t=e.target;;){if(t.classList.contains("select-button"))return void selectButtonClickHandler(t);if(t.classList.contains("select-option"))return void selectOptionClickHandler(t);if(matches(t,"body"))return void closeAllSelects();t=t.parentNode}};function ready(e){(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?e():document.addEventListener("DOMContentLoaded",e)}ready(function(){document.querySelectorAll("select").forEach(initSelect)}),document.addEventListener("click",delegatedClickHandler);